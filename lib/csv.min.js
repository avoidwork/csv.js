/**
 * csv.js
 *
 * @author Jason Mulligan <jason.mulligan@avoidwork.com>
 * @copyright 2014 Jason Mulligan
 * @license BSD-3 <https://raw.github.com/avoidwork/csv.js/master/LICENSE>
 * @link https://github.com/avoidwork/csv.js
 * @module csv.js
 * @version 1.0.1
 */
(function(n){"use strict";function t(n){var t;return null===n||void 0===n?void 0:"true"===n?!0:"false"===n?!1:"null"===n?null:"undefined"===n?void 0:""===n?n:isNaN(t=Number(n))?a.test(n)?i(n)||n:n:t}function e(n,e){e=e||",";for(var r,i,o,u=RegExp(e+'(?=(?:[^"]|"[^"]*")*$)'),c=n.split("\n"),f=c.shift().split(e),a=[],s=c.length,l=f.length,p=-1;s>++p;){for(i={},o=c[p].split(u),r=-1;l>++r;)i[f[r]]=t(o[r].replace(/^"|"$/g,""));a.push(i)}return a}function r(n,t,e){t=t||",",e=e!==!1;var u=i(n)||n,f="";return u instanceof Array?u[0]instanceof Object?(e&&(f=d(u[0]).join(t)+"\n"),f+=u.map(function(n){return r(n,t,!1)}).join("\n")):f+=o(u,t)+"\n":(e&&(f=d(u).join(t)+"\n"),f+=h(u).map(function(n){return o(n,t)}).join(t)+"\n"),f.replace(c,"")}function i(n){try{return JSON.parse(n)}catch(t){return void 0}}function o(n,t){var e;return n instanceof Array?(e='"'+(""+n)+'"',f.test(e)&&(e='"'+r(n,t)+'"')):e=n instanceof Object?'"'+r(n,t)+'"':s.test(n)?'"'+n.replace(/"/g,'""')+'"':n,e}var u=/msie|ie/i,c=/\n$/,f=/\[object Object\]/,a=/^[\[\{]/,s=/^\s|\"|\n|,|\s$/,l=n.navigator,p=l?u.test(l.userAgent):!1,y=p?parseInt(l.userAgent.replace(/(.*msie|;.*)/gi,""),10):null,h=function(){return!p||y>8?function(n,t){t=t===!0;var e=[];return isNaN(n.length)?t?e=d(n):v(n,function(n){e.push(n)}):e=Array.prototype.slice.call(n),e}:function(n,t){t=t===!0;var e=[];if(isNaN(n.length))t?e=d(n):v(n,function(n){e.push(n)});else try{e=Array.prototype.slice.call(n)}catch(r){v(n,function(n,t){"length"!==t&&e.push(n)})}return e}}(),v=function(){return"function"==typeof Object.keys?function(n,t){if("function"!=typeof t)throw Error("Invalid arguments");return Object.keys(n).forEach(function(e){return t.call(n,n[e],e)}),n}:function(n,t){var e,r,i=Object.prototype.hasOwnProperty;if("function"!=typeof t)throw Error("Invalid arguments");for(e in n){if(!i.call(n,e))break;if(r=t.call(n,n[e],e),r===!1)break}return n}}(),d=function(){return"function"==typeof Object.keys?function(n){return Object.keys(n)}:function(n){var t=[];return v(n,function(n,e){t.push(e)}),t}}(),g={decode:e,encode:r,version:"1.0.1"};"undefined"!=typeof exports?module.exports=g:"function"==typeof define?define(function(){return g}):n.csv=g})(this);